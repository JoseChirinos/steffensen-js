/*! Matrix v1.0.2 | https://github.com/angusgibbs/matrix/blob/master/LICENSE */
!function(){function b(a){if(2===a.rows&&2===a.cols)return a[0][0]*a[1][1]-a[0][1]*a[1][0];for(var c=0,d=0;d<a.cols;d++)c+=a[0][d]*(0===d%2?1:-1)*b(a._submatrix(0,d));return c}function c(b){if(!a.silent)throw new Error(b)}var a=function(a){var b=arguments;if(2===b.length&&"number"==typeof b[0]&&"number"==typeof b[1])return this.rows=b[0],this.cols=b[1],this._setData(function(){return 0}),void 0;Array.isArray(a)||c("Array must be passed");var d=this;d.rows=a.length,a.forEach(function(a,b){Array.isArray(a)||c("The array passed must be a two-dimensional array"),d.cols||(d.cols=a.length),d[b]=[],a.forEach(function(a,e){"number"!=typeof a&&c("The matrix fields must be numeric"),d[b][e]=a})})};a.silent=!1,a.prototype._submatrix=function(b,c){for(var d=[],e=0,f=0;e<this.rows;e++)if(e!==b){d[f]=[];for(var g=0,h=0;g<this.cols;g++)g!==c&&(d[f][h]=this[e][g],h++);f++}return new a(d)},a.prototype.determinant=function(){return this.rows!==this.cols&&c("Cannot compute the determinant of a non-square matrix"),b(this)},a.prototype.multiply=function(b){Array.isArray(b)&&(b=new a(b)),!b instanceof a&&c("Argument passed is not a valid Matrix object"),this.cols!==b.rows&&c("Invalid dimensions");for(var d=new a(this.rows,b.cols),e=0;e<this.rows;e++)for(var f=0;f<b.cols;f++){for(var g=0,h=0;h<this.cols;h++)g+=this[e][h]*b[h][f];d[e][f]=g}return this._setData(d)},a.prototype.scalar=function(a){"number"!=typeof a&&c("The scalar must be numeric");for(var b=0;b<this.rows;b++)for(var d=0;d<this.cols;d++)this[b][d]*=a;return this},a.prototype.add=function(){var b=Array.prototype.slice.call(arguments,0),d=this;return b.forEach(function(b){Array.isArray(b)&&(b=new a(b)),(d.rows!==b.rows||d.cols!==b.cols)&&c("Matrix dimensions do not match");for(var e=0;e<d.rows;e++)for(var f=0;f<d.cols;f++)d[e][f]+=b[e][f]}),this},a.prototype.subtract=function(){var d=Array.prototype.slice.call(arguments,0),e=this;return d.forEach(function(b){Array.isArray(b)&&(b=new a(b)),(e.rows!==b.rows||e.cols!==b.cols)&&c("Matrix dimensions do not match");for(var d=0;d<e.rows;d++)for(var f=0;f<e.cols;f++)e[d][f]-=b[d][f]}),this},a.prototype.raise=function(a){("number"!=typeof a||Math.round(a,0)!==a)&&c("The power must be an integer"),2>a&&c("The power must be greater than or equal to 1");for(var b=this.clone();--a;)b.multiply(this);return this._setData(b)},a.prototype.square=function(){return this.raise(2),this},a.prototype.cube=function(){return this.raise(3),this},a.prototype.inverse=function(){(!this.isSquare()||this.isSingular())&&c("The matrix must be a square matrix with a size of at least 2x2");var a,b,d=this.rows;this.cols=2*d;for(var e=0;d>e;e++)for(var f=d;2*d>f;f++)this[e][f]=e===f-d?1:0;for(var e=0;d>e;e++)for(var f=0;d>f;f++)if(e!==f){a=this[f][e]/this[e][e];for(var g=0;2*d>g;g++)this[f][g]-=a*this[e][g]}for(var e=0;d>e;e++){b=this[e][e];for(var f=0;2*d>f;f++)this[e][f]/=b}for(var e=0;d>e;e++)this[e].splice(0,d);return this.cols=d,this},a.prototype.equals=function(b){if(Array.isArray(b)&&(b=new a(b)),this.rows!==b.rows||this.cols!==b.cols)return!1;for(var c=0;c<this.rows;c++)for(var d=0;d<this.cols;d++)if(this[c][d]!==b[c][d])return!1;return!0},a.prototype.isSquare=function(){return this.rows===this.cols},a.prototype.isSingular=function(){return 1===this.rows&&1===this.cols},a.prototype.clone=function(){return new a(this.toArray())},a.prototype.toJSON=a.prototype.toArray=function(){for(var a=[],b=0;b<this.rows;b++){a[b]=[];for(var c=0;c<this.cols;c++)a[b][c]=this[b][c]}return a},a.prototype._setData=function(b){var d,e;for(d=0;d<this.rows;d++)delete this[d];for(Array.isArray(b)&&(b=new a(b)),!b instanceof a&&"function"!=typeof b&&c("The data to set must be either a Matrix object, a two dimensional array, or a function"),"function"!=typeof b&&(this.rows=b.rows,this.cols=b.cols),d=0;d<this.rows;d++)for(this[d]=[],e=0;e<this.cols;e++)this[d][e]="function"==typeof b?b.call(this,d,e):b[d][e];return this},a.identity=function(b){var c=new a(b,b);return c._setData(function(a,b){return a===b?1:0})},"function"==typeof define?define(function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:window.Matrix=a}();